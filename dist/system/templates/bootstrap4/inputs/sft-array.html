<template>
  <require from="../styles.css"></require>
  <div class="d-inline">
    <h6 class="d-inline"
        if.bind="!form.$noTitle">${form.$schema.title}
      <small class="text-muted"
             if.bind="form.$schema.description">${form.$schema.description}</small>
    </h6>
    <button class="btn btn-link btn-sm"
            click.delegate="add(true)"
            disabled.bind="isDisabled || atCapacity">&plus; Add</button>
  </div>
  <em class="text-muted small d-block"
      if.bind="!model || model.length === 0">nothing here, click add above</em>
  <div class="text-danger"
       if.bind="!!errors">
    <small repeat.for="error of errors">${error.message}</small>
  </div>
  <div repeat.for="item of model"
       class="border border-light p-2">
    <button type="button"
            class="close pb-1"
            bootstrap-tooltip
            data-placement="left"
            title="remove"
            click.trigger="remove($index,true)"
            disabled.bind="isDisabled || atMinimumCapacity">
      <span>&times;</span>
    </button>
    <div as-element="compose"
         view.bind="itemViewStrategy">
    </div>
  </div>
  <hr if.bind="!form.$noSeparator">
</template>
